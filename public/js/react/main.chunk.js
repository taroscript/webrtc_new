
(this.webpackJsonpwebrtcreact_test03=this.webpackJsonpwebrtcreact_test03||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t),n.d(t,"PROFILE_ENDPOINTS",(function(){return f})),n.d(t,"CHAT_ENDPOINTS",(function(){return g}));var c=n(1),r=n.n(c),s=n(3),a=n.n(s),o=(n(13),n(14),n(0));var i=function(e){var t=e.user;return Object(o.jsx)("div",{className:"user-profile",children:Object(o.jsx)("a",{href:t.url,children:Object(o.jsx)("img",{src:t.icon,alt:"test"})})})},l=n(2);var d=function(e){var t=e.url,n=Object(c.useState)({loaded:!1,result:{}}),r=Object(l.a)(n,2),s=r[0],a=r[1];return 0==s.loaded?($.ajax({type:"GET",url:t,dataType:"json",success:function(e){a({loaded:!0,result:e}),console.log("json",s.loaded),console.log("user.result",s.result.user)}}),Object(o.jsx)("div",{className:"user-profile",children:"loading"})):Object(o.jsxs)("div",{className:"card p-3",style:{height:"150px"},children:[Object(o.jsxs)("div",{children:["ID\uff1a",s.result.user.id]}),Object(o.jsxs)("div",{children:["\u6c0f\u540d\uff1a",s.result.user.name]}),Object(o.jsxs)("div",{children:["\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\uff1a",s.result.chat_user.nickname]}),Object(o.jsxs)("div",{children:["E-mail\uff1a",s.result.user.email]})]})};var j=function(){var e=Object(c.useState)(0),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{children:"count test"}),Object(o.jsx)("button",{onClick:function(){r(n+1)},children:"+1"}),n]})},u=n(7),b=n(4);function m(e){var t,n=e.texts,c={marginTop:"auto",marginBottom:"auto",marginLeft:"10px",borderRadius:"25px",backgroundColor:"#82ccdd",padding:"10px",position:"relative"},r={marginTop:"auto",marginBottom:"auto",marginRight:"10px",borderRadius:"25px",backgroundColor:"#78e08f",padding:"10px",position:"relative"},s={position:"absolute",right:0,color:"rgba(255,255,255,0.5)",fontSize:"5px"},a={position:"absolute",left:0,color:"rgba(255,255,255,0.5)",fontSize:"5px"},i=(t={height:"100%",width:"100%",margin:"0",background:"#7F7FD5"},Object(b.a)(t,"background","-webkit-linear-gradient(to right, #91EAE4, #86A8E7, #7F7FD5)"),Object(b.a)(t,"background","linear-gradient(to right, #91EAE4, #86A8E7, #7F7FD5)"),Object(b.a)(t,"borderRadius","25px"),Object(b.a)(t,"height","400px"),Object(b.a)(t,"overflowY","scroll"),t);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row justify-content-center",children:Object(o.jsx)("div",{style:i,id:"scroll-inner",className:"col-md-12 col-xl-6",children:Object(o.jsx)("ul",{style:{listStyle:"none"},children:n.map((function(e,t){return e.isMe?Object(o.jsx)("div",{className:"d-flex justify-content-end mb-4",children:Object(o.jsxs)("li",{children:[Object(o.jsxs)("div",{style:r,children:[e.nickname," : ",e.message]}),Object(o.jsx)("div",{style:s,children:e.created_at})]},t)}):Object(o.jsx)("div",{className:"d-flex justify-content-start mb-4",children:Object(o.jsxs)("li",{children:[Object(o.jsxs)("div",{style:c,children:[e.nickname," : ",e.message]}),Object(o.jsx)("div",{style:a,children:e.created_at})]},t)})}))})})})})})}function h(e){var t=e.handleAdd;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row justify-content-center",children:Object(o.jsx)("div",{className:"col-md-8 p-3",children:Object(o.jsx)("div",{className:"form-group",children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("e.target.message.value",e.target.message.value);var n={message:e.target.message.value};t(n)},children:[Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("input",{type:"text",name:"message",className:"form-control",id:"message",placeholder:"type your message"})}),Object(o.jsx)("div",{class:"text-right",children:Object(o.jsx)("input",{type:"submit",value:"update",className:"btn btn-primary"})})]})})})})})})}function O(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),r=n[0],s=n[1],a=e.endpoints.load,i=e.endpoints.update;return Object(c.useEffect)((function(){var e;e=function(e){s(Object(u.a)(e))},fetch(a).then((function(e){return e.json()})).then((function(t){console.log(t),e(t.texts)})).catch((function(e){console.error("Error:",e)}))}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(m,{texts:r}),Object(o.jsx)(h,{handleAdd:function(e){console.log("handleAdd data",e),function(e,t,n){var c=$('meta[name="csrf-token"]').attr("content");fetch(n,{method:"POST",body:JSON.stringify(t),headers:{"X-CSRF-TOKEN":c,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("result",t),1===t.result&&e(Object(u.a)(t.texts))}),(function(e){alert("\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f")}))}((function(e){s(Object(u.a)(e))}),e,i)}})]})}function x(e){var t=e.endpoints,n=Object(c.useState)({user:{},chat_user:{}}),r=Object(l.a)(n,2),s=r[0],a=r[1],i=Object(c.useState)(!0),d=Object(l.a)(i,2),j=d[0],u=d[1],b=Object(c.useState)(!0),m=Object(l.a)(b,2),h=m[0],O=m[1];console.log("console.log(isNickname);",j);return Object(c.useEffect)((function(){fetch(t.load).then((function(e){return e.json()})).then((function(e){console.log(e.chat_user),a({user:e.user,chat_user:e.chat_user})}))}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row justify-content-center",children:Object(o.jsx)("div",{className:"col-md-8",children:Object(o.jsx)("div",{className:"form-group",children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=$('meta[name="csrf-token"]').attr("content"),c=e.target.nickname.value,r=e.target.age.value;if(c?(console.log("\u30cb\u30c3\u30af\u30cd\u30fc"),u(!0)):(console.log("\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff01"),u(!1)),!r)return console.log("\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff01"),void O(!1);if(O(!0),j||h){var s={result:1,chat_user:{nickname:c,age:r}};fetch(t.update,{method:"POST",body:JSON.stringify(s),headers:{"X-CSRF-TOKEN":n,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("result",e),window.location.reload()}),(function(e){alert("\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u3082\u3057\u304f\u306f\u5e74\u9f62\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093",e)}))}else console.log("\u8ad6\u7406\u7a4d\u306e\u5426\u5b9a")},children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("div",{children:j?Object(o.jsx)("br",{}):Object(o.jsx)("div",{class:"alert alert-danger",role:"alert",children:"\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff01"})}),Object(o.jsx)("label",{for:"nickname",children:"\u30cb\u30c3\u30af\u30cd\u30fc\u30e0"}),Object(o.jsx)("input",{type:"text",name:"nickname",className:"form-control",id:"nickname",placeholder:s.chat_user?s.chat_user.nickname:"enter your Nick Name"})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("div",{children:h?Object(o.jsx)("br",{}):Object(o.jsx)("div",{class:"alert alert-danger",role:"alert",children:"\u5e74\u9f62\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff01"})}),Object(o.jsx)("label",{for:"age",children:"\u5e74\u9f62"}),Object(o.jsx)("input",{type:"number",name:"age",className:"form-control",placeholder:s.chat_user?s.chat_user.age:"enter your age"})]}),Object(o.jsx)("input",{type:"submit",value:"update",className:"btn btn-primary"})]})})})})})})}window.renderProfileApp=function(e,t){a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(i,{user:t})}),document.getElementById(e))},window.renderProfileApp2=function(e,t){a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(d,{url:t})}),document.getElementById(e))},window.countRoop=function(e){a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(j,{})}),document.getElementById(e))},window.chat=function(e,t){a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(O,{endpoints:t})}),document.getElementById(e))},window.renderUpdateProfile=function(e,t){a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(x,{endpoints:t})}),document.getElementById(e))};var f={update:null,load:null};window.renderChat=function(e,t){a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(O,{endpoints:t})}),document.getElementById(e))};var g={update:null,load:null}}},[[16,1,2]]]);
//# sourceMappingURL=main.chunk.js.map